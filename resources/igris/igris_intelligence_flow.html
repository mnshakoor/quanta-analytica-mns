<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IGRIS Intelligence Flow Schema — ARAC International · Quanta Analytica</title>
  <meta name="description" content="Layered flow diagram for the IGRIS pipeline: Signals → Indicators → Drivers → Outcomes, with integrated frameworks (CARVER, PESTELS, Positive Peace, ISO 31000, INSSA, SATs)." />
  <style>
    :root{
      --bg:#0f172a;           /* slate-900 */
      --panel:#111827;        /* gray-900 */
      --ink:#e5e7eb;          /* gray-200 */
      --muted:#9ca3af;        /* gray-400 */
      --accent:#60a5fa;       /* blue-400 */
      --accent-2:#34d399;     /* emerald-400 */
      --accent-3:#f59e0b;     /* amber-500 */
      --accent-4:#f472b6;     /* pink-400 */
      --accent-5:#a78bfa;     /* violet-400 */
      --accent-6:#f87171;     /* red-400 */
      --card:#0b1023;
      --ring:rgba(96,165,250,.35);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f8fafc; --panel:#ffffff; --ink:#0b1220; --muted:#475569; --card:#ffffff; --ring:rgba(2,132,199,.25);}  
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial;line-height:1.5;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1200px;margin:auto;padding:28px}
    .header{display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .title{font-size:clamp(22px,3vw,34px);font-weight:800;letter-spacing:.3px}
    .subtitle{font-size:clamp(12px,1.8vw,14px);color:var(--muted)}
    .toolbar{display:flex;gap:8px;align-items:center}
    button{appearance:none;border:1px solid transparent;background:var(--panel);color:var(--ink);padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer;box-shadow:0 0 0 1px var(--ring) inset}
    button:hover{box-shadow:0 0 0 2px var(--ring) inset}
    .canvas{margin-top:20px;background:var(--card);border-radius:20px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .legend{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:10px;margin-top:12px}
    .legend .tag{padding:8px 10px;border-radius:10px;font-weight:700;text-align:center}
    .tag.l1{background:rgba(96,165,250,.15);color:#93c5fd}
    .tag.l2{background:rgba(52,211,153,.15);color:#86efac}
    .tag.l3{background:rgba(245,158,11,.18);color:#fcd34d}
    .tag.l4{background:rgba(244,114,182,.15);color:#f9a8d4}
    .tag.l5{background:rgba(167,139,250,.15);color:#c4b5fd}
    .tag.l6{background:rgba(248,113,113,.15);color:#fca5a5}

    /* Responsive grid: flow + frameworks side rail */
    .grid{display:grid;grid-template-columns:1.6fr .9fr;gap:16px;margin-top:18px}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} }

    .rail{background:var(--panel);border-radius:16px;padding:16px;position:relative}
    .rail h3{margin:0 0 8px 0;font-size:16px}
    .rail p{margin:0;color:var(--muted);font-size:14px}
    .rail ul{margin:12px 0 0 18px;padding:0}
    .rail li{margin:6px 0}

    /* SVG auto fit */
    .svg-container{width:100%;height:auto}
    svg{width:100%;height:auto;display:block}

    footer{margin-top:20px;color:var(--muted);font-size:12px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .credit b{color:var(--ink)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div>
        <div class="title">IGRIS Intelligence Flow Schema</div>
        <div class="subtitle">Signals → Indicators → Drivers → Outcomes · ARAC International · Quanta Analytica</div>
      </div>
      <div class="toolbar">
        <button id="btnPng" title="Export diagram as PNG">Download PNG</button>
        <button id="btnSvg" title="Download the SVG markup">Download SVG</button>
      </div>
    </div>

    <div class="canvas">
      <div class="legend" aria-hidden="true">
        <div class="tag l1">Data Acquisition</div>
        <div class="tag l2">Signal Detection</div>
        <div class="tag l3">Indicator Validation</div>
        <div class="tag l4">Driver Analysis</div>
        <div class="tag l5">Outcome Forecast</div>
        <div class="tag l6">Strategic Integration</div>
      </div>

      <div class="grid">
        <!-- Flow Diagram -->
        <div class="svg-container">
          <svg id="igrisSvg" viewBox="0 0 960 1900" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="IGRIS layered flow diagram (wrapped text)">
            <defs>
              <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#000" flood-opacity="0.35"/>
              </filter>
              <style><![CDATA[
                .box{rx:18;filter:url(#shadow)}
                .cap{font-weight:800;letter-spacing:.2px}
                .txt{font-size:17px;fill:#e5e7eb}
                .capText{font-size:20px;fill:#fff}
                .mut{fill:#cbd5e1;font-size:15px}
                .arrow{stroke:#cbd5e1;stroke-width:2;marker-end:url(#mEnd)}
              ]]></style>
              <marker id="mEnd" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#cbd5e1"/>
              </marker>
            </defs>

            <!-- Background -->
            <rect x="0" y="0" width="960" height="1900" fill="#0b1023"/>

            <!-- 1 Data Acquisition -->
            <rect class="box" x="60" y="60" width="620" height="210" fill="rgba(96,165,250,.18)" stroke="#60a5fa"/>
            <text class="capText" x="80" y="105">1. Data Acquisition Layer</text>
            <text class="txt" x="80" y="140">
              <tspan x="80" dy="0">Sources: RSS, ReliefWeb, UN, ACLED, OSINT, CISA, partner feeds,</tspan>
              <tspan x="80" dy="22">NGO SitReps, social media analysis, LLM agents</tspan>
            </text>

            <!-- Arrow 1-->
            <line class="arrow" x1="370" y1="270" x2="370" y2="320"/>

            <!-- 2 Signal Detection -->
            <rect class="box" x="60" y="320" width="620" height="240" fill="rgba(52,211,153,.18)" stroke="#34d399"/>
            <text class="capText" x="80" y="365">2. Signal Detection Layer</text>
            <text class="txt" x="80" y="398">Identify discrete observable changes</text>
            <text class="mut" x="80" y="426">
              <tspan x="80" dy="0">Keyword and entity clustering, severity weighting, temporal mapping,</tspan>
              <tspan x="80" dy="20">geo normalization</tspan>
            </text>
            <text class="txt" x="80" y="470">Output: Signals = raw observations of change</text>

            <!-- Arrow 2 -->
            <line class="arrow" x1="370" y1="560" x2="370" y2="610"/>

            <!-- 3 Indicator Validation -->
            <rect class="box" x="60" y="610" width="620" height="260" fill="rgba(245,158,11,.20)" stroke="#f59e0b"/>
            <text class="capText" x="80" y="655">3. Indicator Validation Layer</text>
            <text class="txt" x="80" y="688">Validate which signals repeat or aggregate into patterns</text>
            <text class="mut" x="80" y="716">
              <tspan x="80" dy="0">Temporal clustering, cross domain correlation, confidence scoring,</tspan>
              <tspan x="80" dy="20">baseline comparison</tspan>
            </text>
            <text class="txt" x="80" y="760">Output: Indicators = verified trends confirming change</text>

            <!-- Arrow 3 -->
            <line class="arrow" x1="370" y1="870" x2="370" y2="920"/>

            <!-- 4 Driver Analysis -->
            <rect class="box" x="60" y="920" width="620" height="260" fill="rgba(244,114,182,.18)" stroke="#f472b6"/>
            <text class="capText" x="80" y="965">4. Driver Analysis Layer</text>
            <text class="txt" x="80" y="998">Determine root causes and systemic forces</text>
            <text class="mut" x="80" y="1026">
              <tspan x="80" dy="0">Frameworks: PESTELS, Positive Peace, INSSA, ISO 31000, CARVER,</tspan>
              <tspan x="80" dy="20">SATs (ACH, What if, red team)</tspan>
            </text>
            <text class="txt" x="80" y="1070">Output: Drivers = fundamental variables creating the indicators</text>

            <!-- Arrow 4 -->
            <line class="arrow" x1="370" y1="1180" x2="370" y2="1230"/>

            <!-- 5 Outcome Forecast -->
            <rect class="box" x="60" y="1230" width="620" height="240" fill="rgba(167,139,250,.18)" stroke="#a78bfa"/>
            <text class="capText" x="80" y="1275">5. Outcome Forecast Layer</text>
            <text class="txt" x="80" y="1308">Model plausible futures and operational risk outcomes</text>
            <text class="mut" x="80" y="1336">
              <tspan x="80" dy="0">Monte Carlo simulation, scenario building, sensitivity analysis,</tspan>
              <tspan x="80" dy="20">resilience feedbacks</tspan>
            </text>
            <text class="txt" x="80" y="1380">Output: Outcomes = actionable foresight</text>

            <!-- Arrow 5 -->
            <line class="arrow" x1="370" y1="1470" x2="370" y2="1520"/>

            <!-- 6 Strategic Integration -->
            <rect class="box" x="60" y="1520" width="620" height="220" fill="rgba(248,113,113,.18)" stroke="#f87171"/>
            <text class="capText" x="80" y="1565">6. Strategic Integration and Response</text>
            <text class="txt" x="80" y="1598">Convert intelligence into decision guidance</text>
            <text class="mut" x="80" y="1626">
              <tspan x="80" dy="0">ISO 31000 response planning, INSSA risk treatment, GSOC alerting,</tspan>
              <tspan x="80" dy="20">strategic communications</tspan>
            </text>

            <!-- Right rail title -->
            <text class="capText" x="710" y="100" fill="#fff">Integrated Frameworks</text>

            <!-- Right rail boxes -->
            <rect class="box" x="700" y="120" width="220" height="210" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="155">CARVER</text>
            <text class="mut" x="720" y="180">Criticality, Accessibility,</text>
            <text class="mut" x="720" y="200">Recuperability, Vulnerability,</text>
            <text class="mut" x="720" y="220">Effect, Recognizability</text>

            <rect class="box" x="700" y="350" width="220" height="150" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="385">PESTELS</text>
            <text class="mut" x="720" y="410">Political, Economic, Social,</text>
            <text class="mut" x="720" y="430">Technological, Environmental,</text>
            <text class="mut" x="720" y="450">Legal, Security</text>

            <rect class="box" x="700" y="520" width="220" height="110" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="555">Positive Peace</text>
            <text class="mut" x="720" y="580">Systems resilience pillars</text>

            <rect class="box" x="700" y="650" width="220" height="110" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="685">ISO 31000</text>
            <text class="mut" x="720" y="710">Risk management standard</text>

            <rect class="box" x="700" y="780" width="220" height="110" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="815">INSSA</text>
            <text class="mut" x="720" y="840">NGO security competencies</text>

            <rect class="box" x="700" y="910" width="220" height="150" fill="#111827" stroke="#1f2937"/>
            <text class="txt" x="720" y="945">Structured Analytic</text>
            <text class="txt" x="720" y="970">Techniques</text>
            <text class="mut" x="720" y="995">ACH, What if, red team,</text>
            <text class="mut" x="720" y="1015">Indicators and Signposts</text>
          </svg>
        </div>

        <!-- Textual Rail (for accessibility and SEO) -->
        <aside class="rail">
          <h3>About this diagram</h3>
          <p>This single file HTML uses an inline SVG that scales to any viewport and prints cleanly. </p>
          <ul>
            <li><b>Signals</b>: first observations of change</li>
            <li><b>Indicators</b>: pattern verified trends</li>
            <li><b>Drivers</b>: root causes and forces</li>
            <li><b>Outcomes</b>: modeled futures for action</li>
          </ul>
          <p style="margin-top:10px">Use the buttons above to download the diagram as PNG or raw SVG for slide decks and briefs.</p>
        </aside>
      </div>
    </div>

    <footer>
      <div class="credit">© 2025 <b>ARAC International Inc.</b> · Quanta Analytica · IGRIS Analyst Handbook</div>
      <div>Version 1.0 · Built for GitHub Pages hosting</div>
    </footer>
  </div>

  <script>
    function download(filename, content, type){
      const a = document.createElement('a');
      a.download = filename;
      a.href = URL.createObjectURL(new Blob([content], {type}));
      document.body.appendChild(a); a.click(); a.remove();
    }

    document.getElementById('btnSvg').addEventListener('click', () => {
      const svg = document.getElementById('igrisSvg');
      const src = new XMLSerializer().serializeToString(svg);
      download('igris-intelligence-flow.svg', src, 'image/svg+xml;charset=utf-8');
    });

    document.getElementById('btnPng').addEventListener('click', () => {
      const svg = document.getElementById('igrisSvg');
      const src = new XMLSerializer().serializeToString(svg);
      const img = new Image();
      const svg64 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(src);
      img.onload = () => {
        const scale = 2.5; // high res export
        const canvas = document.createElement('canvas');
        canvas.width = img.width * scale;
        canvas.height = img.height * scale;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = '#0b1023';
        ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        canvas.toBlob((blob)=>{
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.download = 'igris-intelligence-flow.png';
          a.href = url; a.click(); URL.revokeObjectURL(url);
        }, 'image/png');
      };
      img.src = svg64;
    });
  </script>
</body>
</html>
