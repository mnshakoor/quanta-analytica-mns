
<!DOCTYPE html>
<html>
<head>
    <title>Africa Conflict Dashboard</title>
    <meta charset="utf-8" />
    <style>
        body { font-family: Arial, sans-serif; margin: 0; }
        #tabs { display: flex; background: #333; color: white; }
        .tab { padding: 10px 20px; cursor: pointer; }
        .tab:hover { background: #555; }
        .tab.active { background: #111; }
        .tab-content { display: none; padding: 20px; }
        .tab-content.active { display: block; }
        #map { height: 500px; }
        #regionFilter { margin: 10px 0; }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <div id="tabs">
        <div class="tab active" data-tab="dashboard">Dashboard</div>
        <div class="tab" data-tab="methodology">Methodology</div>
    </div>
    <div id="dashboard" class="tab-content active">
        <h2>Africa Conflict Zones</h2>
        <label for="regionFilter">Filter by Region:</label>
        <select id="regionFilter">
            <option value="All">All</option>
            <option value="West Africa">West Africa</option>
            <option value="East Africa">East Africa</option>
            <option value="Central Africa">Central Africa</option>
            <option value="Southern Africa">Southern Africa</option>
            <option value="North Africa">North Africa</option>
        </select>
        <div id="map"></div>
    </div>
    <div id="methodology" class="tab-content">
        <h2>Methodology</h2>
        <p>This dashboard aggregates conflict zone data from verified sources including UN reports, regional security briefings, and open-source intelligence. 
        Conflict zones are identified based on active hostilities, presence of armed groups, and civilian impact. 
        Alert zones are determined by recent escalations, cross-border risks, and extremist activity. 
        Instability risk scores are calculated using a composite index of political violence, displacement, and peacekeeping presence.</p>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        const map = L.map('map').setView([0, 20], 3);
        L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
            attribution: 'Map data © OpenStreetMap contributors'
        }).addTo(map);

        const satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles © Esri'
        }).addTo(map);

        let markers = [];

        fetch('conflict_zones.json')
            .then(response => response.json())
            .then(data => {
                markers = data.map(zone => {
                    const marker = L.marker([zone.latitude, zone.longitude])
                        .bindPopup(`<strong>${zone.country}</strong><br>${zone.conflict_type}`);
                    marker.region = zone.region;
                    marker.addTo(map);
                    return marker;
                });
            });

        document.getElementById('regionFilter').addEventListener('change', function() {
            const selectedRegion = this.value;
            markers.forEach(marker => {
                if (selectedRegion === 'All' || marker.region === selectedRegion) {
                    map.addLayer(marker);
                } else {
                    map.removeLayer(marker);
                }
            });
        });
    </script>
</body>
</html>
